<!DOCTYPE html>
<!-- saved from url=(0058)https://g200kg.github.io/webaudio-tinysynth/soundedit.html -->
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <script src="./js/libs/tinysynth/custom-elements"></script>
  <script src="./js/libs/tinysynth/webaudio-tinysynth.js"></script>
  <script src="./js/libs/tinysynth/webaudio-controls.js"></script>
  <style>
    #webaudioctrl-context-menu {
      display: none;
      position: absolute;
      z-index: 10;
      padding: 0;
      width: 100px;
      color: #eee;
      background-color: #268;
      border: solid 1px #888;
      box-shadow: 1px 1px 2px #888;
      font-family: sans-serif;
      font-size: 11px;
      line-height: 1.7em;
      text-align: center;
      cursor: pointer;
      color: #fff;
      list-style: none;
    }

    #webaudioctrl-context-menu.active {
      display: block;
    }

    .webaudioctrl-context-menu__item {
      display: block;
      margin: 0;
      padding: 0;
      color: #000;
      background-color: #eee;
      text-decoration: none;
    }

    .webaudioctrl-context-menu__title {
      font-weight: bold;
    }

    .webaudioctrl-context-menu__item:last-child {
      margin-bottom: 0;
    }

    .webaudioctrl-context-menu__item:hover {
      background-color: #b8b8b8;
    }
  </style>
  <link href="./js/libs/tinysynth/css" rel="stylesheet">
  <link href="./js/libs/tinysynth/css(1)" rel="stylesheet">
  <style>
    #soundeditor {
      display: none;
    }

    body {
      background: #ddf;
      font-family: 'Roboto Condensed', sans-serif;
    }

    a {
      color: #fff;
    }

    #container {
      background: #333;
      background: linear-gradient(#000 0%, #888 1%, #333 2%, #222 99%, #000 100%);
      background: linear-gradient(#004 0%, #88c 1%, #338 2%, #226 99%, #004 100%);
      padding: 5px 30px;
      color: #ccc;
    }

    #logo {
      padding: 10px 0px;
    }

    h1 {
      margin: 0px 0px;
      font-weight: 300;
      font-family: 'Audiowide', cursive;
    }

    #base {
      width: 1000px;
      margin: 0 auto;
      background: #000;
      padding: 0px 20px 20px 20px;
      color: #fff;
    }

    #aboutcontents {
      box-sizing: border-box;
      overflow: hidden;
      transition: .2s;
      background: #ddf;
      color: #000;
      height: 0px;
      padding: 0px 20px;
    }

    button {
      height: 40px;
    }

    td {
      text-align: center;
      padding: 4px;
    }

    label {
      display: inline-block;
      background: #ddf;
      border: 1px solid #66e;
      width: 70px;
      text-align: center;
      margin: 4px 1px;
      color: #000;
    }
  </style>

<script src="js/soundplay.js"></script>

</head>

<body>
  <div id="base">
    <a href="http://www.g200kg.com/" target="_blank"><img id="logo" src="./js/libs/tinysynth/g200kg160x80.png"
        style="float:left;margin:0px 20px 0px 0px"></a>
    <h1>WebAudio-TinySynth</h1>
    <p>Light-weight GM mapped WebAudio-JavaScript Synthesizer Engine / MIDI Player<br> GitHub Repository : <a
        href="https://github.com/g200kg/webaudio-tinysynth"
        target="_blank">https://github.com/g200kg/webaudio-tinysynth</a></p>
    <button id="about" onclick="About()">About</button>
    <br>
    <hr>
    <div id="aboutcontents">
      <b>webaudio-tinysynth</b> is a small synthesizer / MIDI player library written in JavaScript with GM like timbre
      map.<br>
      All timbres are generated by the combinations of Oscillator and Dynamically generated BufferSource algolithmically
      without any PCM samples.<br><br>
      Repository : <a
        href="https://github.com/g200kg/webaudio-tinysynth">https://github.com/g200kg/webaudio-tinysynth</a>
      <br>
      The demo on this page is based on webauido-tinysynth, and you can do the following:
      <ul>
        <li>Playable with mouse or qwerty-keyboard.</li>
        <li>Play by MIDI keyboard also available via WebMIDI API(Chrome).</li>
        <li>Selectable timbre with GM map. Ch10 is drum track.</li>
        <li>Quality setting switches two timbre set. light-weighted 1 osc or FM based 2 or more osc.</li>
        <li>webaudio-tinysynth also has built-in MIDI sequencer. Select local MIDI file by DnD to 'TinySynth' or file
          selector to play.</li>
      </ul>
      <hr>
    </div>
    <div id="container">
      <p style="font-family:AudioWide">WebAudio-TinySynth : GM Synth / MIDI Player</p>
      <table>
        <tbody>
          <tr>
            <td>
              <webaudio-tinysynth id="tinysynth" src="midi/Bach/wtc0.mid" quality="1" loop="1" disabledrop="0"
                mastervol="0.3">
                <div><canvas id="wa-canvas" width="300" height="32" touch-action="none" tabindex="0" style="
      position:relative;
      margin:0;
      border:none;
      width:300px;
      height:32px;
    "></canvas>
                  <div id="wa-logo" style="
      display:none;
      position:absolute;
      top:5px;
      left:5px;
      color:#fff;
      font-size:8px;
      background:rgba(0,0,0,0.5);
    ">TinySynth</div>
                </div>
              </webaudio-tinysynth>
            </td>
            <td>
              <webaudio-knob colors="#c00;#ccf;#fff" diameter="40" min="0" max="1" step="0.01" id="vol" value="0.5"
                oninput="Ctrl()" style="height: 40px;"></webaudio-knob>
            </td>
            <td>
              <webaudio-knob colors="#c00;#ccf;#fff" diameter="40" min="0" max="1" step="0.01" id="rev" value="0.2"
                oninput="Ctrl()" style="height: 40px;"></webaudio-knob>
            </td>
            <td>
              <webaudio-switch id="loop" onchange="Ctrl()" value="1"></webaudio-switch>
            </td>
            <td><select onchange="SetQuality(this.selectedIndex)">
                <option>quality=0</option>
                <option selected="">quality=1</option>
              </select>
            </td>
          </tr>
          <tr>
            <td><input type="file" onchange="loadMidi(this.files)"></td>
            <td>Vol</td>
            <td>Reverb</td>
            <td>Loop</td>
            <td>Quality</td>
          </tr>
        </tbody>
      </table>
      <br>
      <hr>
      MIDI Keyboard : <select id="midiport" onchange="SelectMidi(this.selectedIndex-1)">
        <option>--</option>
      </select>
      <br>
      Oct : <label><input type="radio" name="oct" onclick="OctChange(-2)"> -2</label>
      <label><input type="radio" name="oct" onclick="OctChange(-1)"> -1</label>
      <label><input type="radio" name="oct" onclick="OctChange(0)" checked=""> 0</label>
      <label><input type="radio" name="oct" onclick="OctChange(1)"> +1</label>
      <label><input type="radio" name="oct" onclick="OctChange(2)"> +2</label>
      <br>
      <div style="display:inline-block">Sustain<br>(shift)<br><input id="sus" type="checkbox"
          onchange="Sustain(this.checked)"></div>
      <webaudio-keyboard id="kb" keys="73" min="35" width="800" tabindex="1" style="height: 128px;"></webaudio-keyboard>
      <br>
      Ch : <select onchange="ChChange(this)">
        <option>Ch1</option>
        <option>Ch2</option>
        <option>Ch3</option>
        <option>Ch4</option>
        <option>Ch5</option>
        <option>Ch6</option>
        <option>Ch7</option>
        <option>Ch8</option>
        <option>Ch9</option>
        <option>Drum (Ch10)</option>
      </select>
      Prog : <select id="prog" onchange="ProgChange(this.selectedIndex)">
        <option>1 : Acoustic Grand Piano</option>
        <option>2 : Bright Acoustic Piano</option>
        <option>3 : Electric Grand Piano</option>
        <option>4 : Honky-tonk Piano</option>
        <option>5 : Electric Piano 1</option>
        <option>6 : Electric Piano 2</option>
        <option>7 : Harpsichord</option>
        <option>8 : Clavi</option>
        <option>9 : Celesta</option>
        <option>10 : Glockenspiel</option>
        <option>11 : Music Box</option>
        <option>12 : Vibraphone</option>
        <option>13 : Marimba</option>
        <option>14 : Xylophone</option>
        <option>15 : Tubular Bells</option>
        <option>16 : Dulcimer</option>
        <option>17 : Drawbar Organ</option>
        <option>18 : Percussive Organ</option>
        <option>19 : Rock Organ</option>
        <option>20 : Church Organ</option>
        <option>21 : Reed Organ</option>
        <option>22 : Accordion</option>
        <option>23 : Harmonica</option>
        <option>24 : Tango Accordion</option>
        <option>25 : Acoustic Guitar (nylon)</option>
        <option>26 : Acoustic Guitar (steel)</option>
        <option>27 : Electric Guitar (jazz)</option>
        <option>28 : Electric Guitar (clean)</option>
        <option>29 : Electric Guitar (muted)</option>
        <option>30 : Overdriven Guitar</option>
        <option>31 : Distortion Guitar</option>
        <option>32 : Guitar harmonics</option>
        <option>33 : Acoustic Bass</option>
        <option>34 : Electric Bass (finger)</option>
        <option>35 : Electric Bass (pick)</option>
        <option>36 : Fretless Bass</option>
        <option>37 : Slap Bass 1</option>
        <option>38 : Slap Bass 2</option>
        <option>39 : Synth Bass 1</option>
        <option>40 : Synth Bass 2</option>
        <option>41 : Violin</option>
        <option>42 : Viola</option>
        <option>43 : Cello</option>
        <option>44 : Contrabass</option>
        <option>45 : Tremolo Strings</option>
        <option>46 : Pizzicato Strings</option>
        <option>47 : Orchestral Harp</option>
        <option>48 : Timpani</option>
        <option>49 : String Ensemble 1</option>
        <option>50 : String Ensemble 2</option>
        <option>51 : SynthStrings 1</option>
        <option>52 : SynthStrings 2</option>
        <option>53 : Choir Aahs</option>
        <option>54 : Voice Oohs</option>
        <option>55 : Synth Voice</option>
        <option>56 : Orchestra Hit</option>
        <option>57 : Trumpet</option>
        <option>58 : Trombone</option>
        <option>59 : Tuba</option>
        <option>60 : Muted Trumpet</option>
        <option>61 : French Horn</option>
        <option>62 : Brass Section</option>
        <option>63 : SynthBrass 1</option>
        <option>64 : SynthBrass 2</option>
        <option>65 : Soprano Sax</option>
        <option>66 : Alto Sax</option>
        <option>67 : Tenor Sax</option>
        <option>68 : Baritone Sax</option>
        <option>69 : Oboe</option>
        <option>70 : English Horn</option>
        <option>71 : Bassoon</option>
        <option>72 : Clarinet</option>
        <option>73 : Piccolo</option>
        <option>74 : Flute</option>
        <option>75 : Recorder</option>
        <option>76 : Pan Flute</option>
        <option>77 : Blown Bottle</option>
        <option>78 : Shakuhachi</option>
        <option>79 : Whistle</option>
        <option>80 : Ocarina</option>
        <option>81 : Lead 1 (square)</option>
        <option>82 : Lead 2 (sawtooth)</option>
        <option>83 : Lead 3 (calliope)</option>
        <option>84 : Lead 4 (chiff)</option>
        <option>85 : Lead 5 (charang)</option>
        <option>86 : Lead 6 (voice)</option>
        <option>87 : Lead 7 (fifths)</option>
        <option>88 : Lead 8 (bass + lead)</option>
        <option>89 : Pad 1 (new age)</option>
        <option>90 : Pad 2 (warm)</option>
        <option>91 : Pad 3 (polysynth)</option>
        <option>92 : Pad 4 (choir)</option>
        <option>93 : Pad 5 (bowed)</option>
        <option>94 : Pad 6 (metallic)</option>
        <option>95 : Pad 7 (halo)</option>
        <option>96 : Pad 8 (sweep)</option>
        <option>97 : FX 1 (rain)</option>
        <option>98 : FX 2 (soundtrack)</option>
        <option>99 : FX 3 (crystal)</option>
        <option>100 : FX 4 (atmosphere)</option>
        <option>101 : FX 5 (brightness)</option>
        <option>102 : FX 6 (goblins)</option>
        <option>103 : FX 7 (echoes)</option>
        <option>104 : FX 8 (sci-fi)</option>
        <option>105 : Sitar</option>
        <option>106 : Banjo</option>
        <option>107 : Shamisen</option>
        <option>108 : Koto</option>
        <option>109 : Kalimba</option>
        <option>110 : Bag pipe</option>
        <option>111 : Fiddle</option>
        <option>112 : Shanai</option>
        <option>113 : Tinkle Bell</option>
        <option>114 : Agogo</option>
        <option>115 : Steel Drums</option>
        <option>116 : Woodblock</option>
        <option>117 : Taiko Drum</option>
        <option>118 : Melodic Tom</option>
        <option>119 : Synth Drum</option>
        <option>120 : Reverse Cymbal</option>
        <option>121 : Guitar Fret Noise</option>
        <option>122 : Breath Noise</option>
        <option>123 : Seashore</option>
        <option>124 : Bird Tweet</option>
        <option>125 : Telephone Ring</option>
        <option>126 : Helicopter</option>
        <option>127 : Applause</option>
        <option>128 : Gunshot</option>
      </select>
      <hr>
      <br>
      <button onclick="OpenEditor()">Timbre Editor</button> <span id="name">Acoustic Grand Piano : </span><button
        id="shot">--</button><br>
      <div id="soundeditor" style="display: block;">
        <br>
        Number of Oscillator :<select id="oscs" onchange="Edit()">
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
        </select>
        <table>
          <tbody>
            <tr id="desc1">
              <td>G</td>
              <td>W</td>
              <td>V</td>
              <td>T</td>
              <td>F</td>
              <td>A</td>
              <td>H</td>
              <td>D</td>
              <td>S</td>
              <td>R</td>
              <td>P</td>
              <td>Q</td>
              <td>K</td>
            </tr>
            <tr id="osc1">
              <td><input id="g1" oninput="Edit()" value="0" size="4"><br></td>
              <td><select id="w1" style="width:60px"
                  onchange="document.getElementById(&#39;w1&#39;).value=this.value;Edit()">
                  <option value="sine">sine</option>
                  <option value="sawtooth">sawtooth</option>
                  <option value="square">square</option>
                  <option value="triangle">triangle</option>
                  <option value="n0">n0</option>
                  <option value="n1">n1</option>
                  <option value="w9999">w9999</option>
                </select></td>
              <td><input id="v1" oninput="Edit()" value="0.5" size="4"></td>
              <td><input id="t1" oninput="Edit()" value="1" size="4"></td>
              <td><input id="f1" oninput="Edit()" value="0" size="4"></td>
              <td><input id="a1" oninput="Edit()" value="0" size="4"></td>
              <td><input id="h1" oninput="Edit()" value="0" size="4"></td>
              <td><input id="d1" oninput="Edit()" value="0.1" size="4"></td>
              <td><input id="s1" oninput="Edit()" value="0" size="4"></td>
              <td><input id="r1" oninput="Edit()" value="0.1" size="4"></td>
              <td><input id="p1" oninput="Edit()" value="1" size="4"></td>
              <td><input id="q1" oninput="Edit()" value="1" size="4"></td>
              <td><input id="k1" oninput="Edit()" value="0" size="4"></td>
            </tr>
            <tr id="osc2">
              <td><input id="g2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><select id="w2" style="width: 60px; background: rgb(255, 255, 255);"
                  onchange="document.getElementById(&#39;w2&#39;).value=this.value;Edit()">
                  <option value="sine">sine</option>
                  <option value="sawtooth">sawtooth</option>
                  <option value="square">square</option>
                  <option value="triangle">triangle</option>
                  <option value="n0">n0</option>
                  <option value="n1">n1</option>
                  <option value="w9999">w9999</option>
                </select></td>
              <td><input id="v2" oninput="Edit()" value="0.5" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="t2" oninput="Edit()" value="1" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="f2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="a2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="h2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="d2" oninput="Edit()" value="0.1" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="s2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="r2" oninput="Edit()" value="0.1" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="p2" oninput="Edit()" value="1" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="q2" oninput="Edit()" value="1" size="4" style="background: rgb(255, 255, 255);"></td>
              <td><input id="k2" oninput="Edit()" value="0" size="4" style="background: rgb(255, 255, 255);"></td>
            </tr>
            <tr id="osc3">
              <td><input id="g3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><select id="w3" style="width: 60px; background: rgb(204, 204, 204);"
                  onchange="document.getElementById(&#39;w3&#39;).value=this.value;Edit()" disabled="">
                  <option value="sine">sine</option>
                  <option value="sawtooth">sawtooth</option>
                  <option value="square">square</option>
                  <option value="triangle">triangle</option>
                  <option value="n0">n0</option>
                  <option value="n1">n1</option>
                  <option value="w9999">w9999</option>
                </select></td>
              <td><input id="v3" oninput="Edit()" value="0.5" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="t3" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="f3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="a3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="h3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="d3" oninput="Edit()" value="0.1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="s3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="r3" oninput="Edit()" value="0.1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="p3" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="q3" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="k3" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
            </tr>
            <tr id="osc4">
              <td><input id="g4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><select id="w4" style="width: 60px; background: rgb(204, 204, 204);"
                  onchange="document.getElementById(&#39;w4&#39;).value=this.value;Edit()" disabled="">
                  <option value="sine">sine</option>
                  <option value="sawtooth">sawtooth</option>
                  <option value="square">square</option>
                  <option value="triangle">triangle</option>
                  <option value="n0">n0</option>
                  <option value="n1">n1</option>
                  <option value="w9999">w9999</option>
                </select></td>
              <td><input id="v4" oninput="Edit()" value="0.5" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="t4" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="f4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="a4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="h4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="d4" oninput="Edit()" value="0.1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="s4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="r4" oninput="Edit()" value="0.1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="p4" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="q4" oninput="Edit()" value="1" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
              <td><input id="k4" oninput="Edit()" value="0" size="4" disabled=""
                  style="background: rgb(204, 204, 204);"></td>
            </tr>
          </tbody>
        </table>
        <br>
        Patch : <input id="patch" size="80">
      </div>
      <p></p>
      <canvas id="ppad" style="width: 300px; height: 300px; background-color: rgb(164, 156, 200)"></canvas> 
      <hr>
    </div>
  </div>
  <ul id="webaudioctrl-context-menu">
    <li class="webaudioctrl-context-menu__title">MIDI Learn</li>
    <li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn"
      onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>
    <li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>
    <li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>
  </ul>


</body>

</html>